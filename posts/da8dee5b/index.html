<!doctype html><html><title>内核通知连</title><meta name=description content="定义链 用于通知信息的处理函数，包括要调用的回调函数 1 2 3 4 5 6 7 8 9 10 11 // include\linux\notifier.h struct notifier_block; typedef int (*notifier_fn_t)(struct notifier_block *nb, unsigned long action, void *data); struct notifier_block { notifier_fn_t notifier_call; struct notifier_block __rcu *next; int priority; }; notifier_call 要执行的函数 next"><body><div id=content><body><div id=post class=post><article><header><h1 class=post-title>内核通知连</h1><p><small>2021-01-24, updated 2021-02-04</small></p></header><h1 id=定义链>定义链</h1><p>用于通知信息的处理函数，包括要调用的回调函数</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=color:#75715e>// include\linux\notifier.h
</span><span style=color:#75715e></span><span style=color:#66d9ef>struct</span> notifier_block;

<span style=color:#66d9ef>typedef</span>	<span style=color:#a6e22e>int</span> (<span style=color:#f92672>*</span>notifier_fn_t)(<span style=color:#66d9ef>struct</span> notifier_block <span style=color:#f92672>*</span>nb,
			<span style=color:#66d9ef>unsigned</span> <span style=color:#66d9ef>long</span> action, <span style=color:#66d9ef>void</span> <span style=color:#f92672>*</span>data);

<span style=color:#66d9ef>struct</span> notifier_block {
	notifier_fn_t notifier_call;
	<span style=color:#66d9ef>struct</span> notifier_block __rcu <span style=color:#f92672>*</span>next;
	<span style=color:#66d9ef>int</span> priority;
};
</code></pre></td></tr></table></div></div><ul><li>notifier_call 要执行的函数</li><li>next 链接列表的元素</li><li>priority 代表函数的优先级，较高优先级的函数会先被执行</li></ul><h1 id=网络子系统的通知链>网络子系统的通知链</h1><ul><li>inetaddr_chain
发送有关本地接口上的IPv4地址的插入、删除以及变更的通知信息。</li><li>netdev_chain
发送有关网路设备注册状态的通知信息。</li></ul></article></div></body><div><small>words: 161 tags:</small></div></html></div><script>var _hmt=_hmt||[];(function(){var a,b;if(window.location.hostname=="localhost")return;a=document.createElement("script"),a.src="https://hm.baidu.com/hm.js?bd28dafb59c7621d0ab721cefd01691b",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script></body></html>