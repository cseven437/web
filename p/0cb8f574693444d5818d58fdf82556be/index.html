<!doctype html><html><title>linux 命令--date</title><meta name=description content="date命令的功能是显示和设置系统日期和时间。 date命令格式 该命令的一般格式为： date [选项] 显示时间格式（以+开头，后面接格式） date 命令中各选"><meta name=generator content="Hugo 0.101.0"><meta property="og:title" content="linux 命令--date"><meta property="og:description" content="date命令的功能是显示和设置系统日期和时间。 date命令格式 该命令的一般格式为： date [选项] 显示时间格式（以+开头，后面接格式） date 命令中各选"><meta property="og:type" content="article"><meta property="og:url" content="https://arair.net/p/0cb8f574693444d5818d58fdf82556be/"><meta property="article:section" content="p"><meta property="article:published_time" content="2021-09-20T15:51:36+08:00"><meta property="article:modified_time" content="2021-09-20T15:53:35+08:00"><meta itemprop=name content="linux 命令--date"><meta itemprop=description content="date命令的功能是显示和设置系统日期和时间。 date命令格式 该命令的一般格式为： date [选项] 显示时间格式（以+开头，后面接格式） date 命令中各选"><meta itemprop=datePublished content="2021-09-20T15:51:36+08:00"><meta itemprop=dateModified content="2021-09-20T15:53:35+08:00"><meta itemprop=wordCount content="1866"><meta itemprop=keywords content="date,"><style type=text/css>.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto;padding:45px;font-family:Consolas,courier new,monospace}@media(max-width:767px){.markdown-body{padding:15px}}</style><script>function setTheme({el:e=document.documentElement,mode:t="auto",light:n="light",dark:s="dark"}){e.dataset.colorMode=t,e.dataset.lightTheme=n,e.dataset.darkTheme=s}let prefersDarkMode=window.matchMedia("(prefers-color-scheme: dark)").matches;prefersDarkMode&&setTheme({mode:"dark"})</script><body id=content class=markdown-body><body><div id=post class=post><article><header><h1 class=post-title>linux 命令--date</h1><p><small>2021-09-20, updated 2021-09-20</small></p></header><aside><nav id=TableOfContents><ul><li><a href=#date命令格式>date命令格式</a></li><li><a href=#使用示例一>使用示例一:</a></li><li><a href=#使用示例二>使用示例二:</a></li><li><a href=#date-命令参数小技巧>Date 命令参数小技巧</a></li><li><a href=#使用示例三>使用示例三:</a></li></ul></nav></aside><p>date命令的功能是显示和设置系统日期和时间。</p><h2 id=date命令格式>date命令格式</h2><p>该命令的一般格式为：</p><pre tabindex=0><code>date [选项] 显示时间格式（以+开头，后面接格式） 
</code></pre><p>date 命令中各选项的含义分别为：</p><ul><li>-d datestr, &ndash;date datestr 显示由datestr描述的日期</li><li>-s datestr, &ndash;set datestr 设置datestr 描述的日期</li><li>-u, &ndash;universal 显示或设置通用时间 时间域</li><li>% H 小时（00..23）</li><li>% I 小时（01..12）</li><li>% k 小时（0..23）</li><li>% l 小时（1..12）</li><li>% M 分（00..59）</li><li>% p 显示出AM或PM</li><li>% r 时间（hh：mm：ss AM或PM），12小时</li><li>% s 从1970年1月1日00：00：00到目前经历的秒数</li><li>% S 秒（00..59）</li><li>% T 时间（24小时制）（hh:mm:ss）</li><li>% X 显示时间的格式（％H:％M:％S）</li><li>% Z 时区 日期域</li><li>% a 星期几的简称（ Sun..Sat）</li><li>% A 星期几的全称（ Sunday..Saturday）</li><li>% b 月的简称（Jan..Dec）</li><li>% B 月的全称（January..December）</li><li>% c 日期和时间（ Mon Nov 8 14：12：46 CST 1999）</li><li>% d 一个月的第几天（01..31）</li><li>% D 日期（mm／dd／yy）</li><li>% h 和%b选项相同</li><li>% j 一年的第几天（001..366）</li><li>% m 月（01..12）</li><li>% w 一个星期的第几天（0代表星期天）</li><li>% W 一年的第几个星期（00..53，星期一为第一天）</li><li>% x 显示日期的格式（mm/dd/yy）</li><li>% y 年的最后两个数字（ 1999则是99）</li><li>% Y 年（例如：1970，1996等）</li></ul><blockquote><p>需要特别说明的是，只有超级用户才能用date命令设置时间，一般用户只能用date命令显示时间。</p></blockquote><p>下列环境变量将会影响到 date 命令的执行效果。</p><ul><li>LANG 确定在 LC_ALL 和相应的环境变量（以 LC_ 开头）都不指定语言环境的时候将要使用的缺省语言环境。</li><li>LC_ALL 确定用于覆盖由 LANG 或任何以 LC_ 开头的环境变量设置的任何语言环境类别值的语言环境。</li><li>LC_CTYPE 确定文本数据的字节序列解释为字符时使用的语言环境（例如参数中单对多字节字符）。</li><li>LC_MESSAGES 决定写信息应使用的语言。</li><li>LC_TIME 确定由 date 写入的日期和时间字符串的内容。</li><li>NLSPATH 为处理 LC_MESSAGES 决定消息目录的位置。</li><li>TZ 指定时间和日期使用的时区，除非指定了 -u 选项。如果未设置 TZ 变量且未指定 -u 标志，则使用非指定的系统缺省时区。</li></ul><h2 id=使用示例一>使用示例一:</h2><pre tabindex=0><code>#date //显示当前日期
#date -s //设置当前时间，只有root权限才能设置，其他只能查看。
#date -s 20061010 //设置成20061010，这样会把具体时间设置成空00:00:00
#date -s 12:23:23 //设置具体时间，不会对日期做更改
#date -s “12:12:23 2006-10-10″ //这样可以设置全部时间
</code></pre><ul><li>CST：中国标准时间（China Standard Time）。</li><li>UTC：协调世界时，又称世界标准时间，简称UTC，从英文国际时间/法文协调时间”Universal Time/Temps Cordonné”而来。中国大陆、香港、澳门、台湾、蒙古国、新加坡、马来西亚、菲律宾、澳洲西部的时间与UTC的时差均为+8，也就是UTC+8。</li><li>GMT：格林尼治标准时间（旧译格林威治平均时间或格林威治标准时间；英语：Greenwich Mean Time，GMT）是指位于英国伦敦郊区的皇家格林尼治天文台的标准时间，因为本初子午线被定义在通过那里的经线。</li></ul><p>设置完系统时间后,还需要同步到硬件时钟上</p><pre tabindex=0><code># clock --systohc
</code></pre><p>硬件时钟与系统时钟同步：</p><pre tabindex=0><code># hwclock --hctosys
或者
# clock --hctosys
</code></pre><p>上面命令中，&ndash;hctosys表示Hardware Clock to SYStem clock。</p><p>系统时钟和硬件时钟同步：</p><pre tabindex=0><code># hwclock --systohc
或者
# clock --systohc
</code></pre><h2 id=使用示例二>使用示例二:</h2><p>用预定的格式显示当前的时间。</p><pre tabindex=0><code># date 
Fri Nov 26 15：20：18 CST 1999 
</code></pre><p>设置时间为下午14点36分。</p><pre tabindex=0><code># date -s 14:36:00 
Fri Nov 26 14：15：00 CST 1999 
</code></pre><p>设置时间为1999年11月28号。</p><pre tabindex=0><code># date -s 991128 
Sun Nov 28 00：00：00 CST 1999 
</code></pre><p>设置一天前</p><pre tabindex=0><code>date --date &#34;1 days ago&#34; +&#34;%Y-%m-%d&#34;
</code></pre><h2 id=date-命令参数小技巧>Date 命令参数小技巧</h2><p>由于Linux对man date -d 参数说的比较模糊,故举例如下:</p><pre tabindex=0><code># -d, --date=STRING  display time described by STRING, not `now&#39;
</code></pre><pre tabindex=0><code>[root@linuxso.com ~ ]# date -d next-day +%Y%m%d
20060328
[root@linuxso.com ~ ]# date -d last-day +%Y%m%d
20060326
[root@linuxso.com ~ ]# date -d yesterday +%Y%m%d
20060326
[root@linuxso.com ~ ]# date -d tomorrow +%Y%m%d
20060328
[root@linuxso.com ~ ]# date -d last-month +%Y%m
200602
[root@linuxso.com ~ ]# date -d next-month +%Y%m
200604
[root@linuxso.com ~ ]# date -d next-year +%Y
2007
</code></pre><h2 id=使用示例三>使用示例三:</h2><p>在linux环境下要取得几天前的时期只要使用</p><pre tabindex=0><code>date -d &#34;x days ago&#34; +%Y%m%d
</code></pre><p>x用数字代替，如果需要几天前的直接写正数，如果要几天后的日期直接写负数即可；</p><pre tabindex=0><code>date -d &#34;x weeks ago&#34; +%Y%m%d
</code></pre><p>x用数字代替，如果需要几周前的直接写正数，如果要几周后的日期直接写负数即可；</p><pre tabindex=0><code>date -d &#34;x years ago&#34; +%Y%m%d
</code></pre><p>x用数字代替，如果需要几年前的直接写正数，如果要几年后的日期直接写负数即可；</p><p>看下面例子：</p><pre tabindex=0><code>[root@linuxso.com ~]# date +%Y%m%d
20100107
</code></pre><p>上面是今天的日期20100107</p><pre tabindex=0><code>[root@linuxso.com ~]# date -d &#34;2 days ago&#34; +%Y%m%d     
20100105
</code></pre><p>上面是两天前的日期</p><pre tabindex=0><code>[root@linuxso.com ~]# date -d &#34;4 days ago&#34; +%Y%m%d 
20100103
</code></pre><p>上面是四天前的日期</p><pre tabindex=0><code>[root@linuxso.com ~]# date -d &#34;-1 days ago&#34; +%Y%m%d
20100108
</code></pre><p>上面是一天后的日期</p><pre tabindex=0><code>[root@linuxso.com ~]# date -d &#34;-2 days ago&#34; +%Y%m%d 
20100109
</code></pre><p>上面是两天后的日期</p><pre tabindex=0><code>[root@linuxso.com ~]# date -d &#34;1 week ago&#34; +%Y%m%d    
20091231
</code></pre><p>上面是一周前的日期</p><pre tabindex=0><code>[root@linuxso.com ~]# date -d &#34;1 year ago&#34; +%Y%m%d   
20090107
</code></pre><p>上面是一年前的日期</p></article></div></body><div><small>words: 1866 tags:</small>
<small><code><a href=https://arair.net/tags/date>date</a></code></small></div></html></body><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?bd28dafb59c7621d0ab721cefd01691b",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script id=LA_COLLECT src=//sdk.51.la/js-sdk-pro.min.js></script>
<script>LA.init({id:"JMTlKgP6j8mqnJSa",ck:"JMTlKgP6j8mqnJSa"})</script></html>